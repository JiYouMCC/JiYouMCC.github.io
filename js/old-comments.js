var OldComments = {
  "data": {
    "comments": {
      "-Kgd2r71djaLSZfQ9Jre": {
        "comment": "ä¸ç”¨æ³¨å†ŒçœŸæ˜¯å¤ªæ£’äº†â€¦â€¦\n\nä¸è¿‡æ˜¯ä¸æ˜¯ä¹Ÿæ²¡æœ‰è¯„è®ºå›å¤é‚®ä»¶äº† = =",
        "email": "ip.192.168.1.1@qq.com",
        "name": "oott123",
        "post": "/blog/post/75",
        "timestamp": 1491042529796
      },
      "-Kgd2uj5dIvHUQhQ83tD": {
        "comment": "è¿™æ˜¯ä¸€æ¡åµŒå¥—å›å¤æµ‹è¯•ã€‚",
        "email": "ip.192.168.1.1@qq.com",
        "name": "oott123",
        "post": "/blog/post/75",
        "reply": "-Kgd2r71djaLSZfQ9Jre",
        "timestamp": 1491042544518
      },
      "-Kgd2wr9VFEMaaAIXam0": {
        "comment": "è¿™æ˜¯åµŒå¥—åµŒå¥—å›å¤æµ‹è¯•",
        "email": "ip.192.168.1.1@qq.com",
        "name": "oott123",
        "post": "/blog/post/75",
        "reply": "-Kgd2uj5dIvHUQhQ83tD",
        "timestamp": 1491042553228
      },
      "-Kgd2yOaqRUMKLsRyfom": {
        "comment": "å¥½å§ä¸èƒ½ç›–æ¥¼",
        "email": "ip.192.168.1.1@qq.com",
        "name": "oott123",
        "post": "/blog/post/75",
        "reply": "-Kgd2wr9VFEMaaAIXam0",
        "timestamp": 1491042559522
      },
      "-Kgd39rff4O6wI2JZpXb": {
        "comment": "é‚®ä»¶ä»€ä¹ˆçš„æˆ‘å¯ä»¥ç»§ç»­å¼„\nåˆå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œå‰ç«¯inputåº”è¯¥è¾“å…¥ä¸€ä¸‹cookieå€¼ï¼Œå›å¤´å†å¼„äº†",
        "email": "nightghostjiyou@gmail.com",
        "name": "åµ‡å°”",
        "post": "/blog/post/75",
        "reply": "-Kgd2uj5dIvHUQhQ83tD",
        "timestamp": 1491042611571
      },
      "-Kgd3UmLMECkk4N1dOz6": {
        "comment": "ç›–æ¥¼æ¨¡å¼ä»€ä¹ˆï¼ŒæŸ¥çœ‹å¯¹è¯ä»€ä¹ˆçš„ï¼Œéƒ½å¥½è¯´ï¼Œéƒ½æ˜¯å‰ç«¯",
        "email": "nightghostjiyou@gmail.com",
        "name": "åµ‡å°”",
        "post": "/blog/post/75",
        "reply": "-Kgd2yOaqRUMKLsRyfom",
        "timestamp": 1491042697270
      },
      "-KgdAqFe6yIQP2whZSMK": {
        "comment": "ğŸ‘ï¼Œæˆ‘å¾—å¤šå­¦å­¦æ‰èƒ½æå®šå¤ç”¨ï¼Œç°åœ¨åªèƒ½ç¡¬ codingğŸ˜¢\nè¯„è®ºå°±è®©å®ƒä¿æŒç®€å•å°±å¥½ï¼Œå¤ªå¤æ‚çš„äº‹æƒ…ä¹Ÿä¸å¤ªå¯èƒ½é‡‡ç”¨è¯„è®ºçš„æ–¹å¼\n**è¿™ä¸ª UI ç¡®å®ä¸å’‹æ»´**ğŸ˜œ",
        "email": "flinhong@hotmail.com",
        "name": "Frank Lin",
        "post": "/blog/post/75",
        "timestamp": 1491044623862,
        "url": "https://flinhong.com"
      },
      "-KgdFES-CBJnJEdPC89w": {
        "comment": "å¤ç”¨ä»€ä¹ˆçš„æ•´ç†ä»£ç ï¼Œææˆå‡½æ•°æ–¹æ³•ï¼Œæç€æç€å°±å˜æˆåº“äº†ğŸ˜ƒ",
        "email": "nightghostjiyou@gmail.com",
        "name": "åµ‡å°”",
        "post": "/blog/post/75",
        "reply": "-KgdAqFe6yIQP2whZSMK",
        "timestamp": 1491045775805
      },
      "-KgdS1jgY46xTX7VERW3": {
        "comment": "å—¯ï¼Œè§‰ç€æŒºå¤æ‚ï¼Œæ€•è‡ªå·±å¼„ä¸å¥½ä¸å¥½è°ƒè¯•ï¼Œç›®å‰çœ‹è¿‡çš„å”¯ä¸€ä¸€æœ¬ js ä¹¦å°±æ˜¯ dom scriptingï¼Œå¾€åå¤šç»ƒä¹ äº†ã€‚\næ²¡æƒ³åˆ° emoji æ–œä½“æ˜¯è¿™ä¸ªæ ·å­çš„å“Ÿ",
        "email": "flinhong@hotmail.com",
        "name": "Frank Lin",
        "post": "/blog/post/75",
        "reply": "-KgdFES-CBJnJEdPC89w",
        "timestamp": 1491049131779,
        "url": "https://flinhong.com"
      },
      "-KhWiOqG5eDgoQxJ4Xm7": {
        "comment": "å¼„è¿™ä¸ªçš„æ—¶å€™ï¼Œæˆ‘ä¹Ÿæ”¹äº†è›®ä¹…CSS",
        "email": "flinhong@hotmail.com",
        "name": "Frank Lin",
        "post": "/blog/post/76",
        "timestamp": 1491993206469,
        "url": "https://flinhong.com"
      },
      "-KhXC7uy0RQMXGIbOw0v": {
        "comment": "CSSè¿˜å¥½ï¼Œå› ä¸ºæˆ‘ä¸»è¦è¿˜æ˜¯ç”¨bootstraptæ¡†æ¶ï¼Œç¨å¾®åŠ ç‚¹è‡ªå·±çš„ä¸»é¢˜\nåå€’æ˜¯ç®—headeræˆ‘è®°å¾—å½“æ—¶å†™äº†å¾ˆä¹…ï¼Œç»“æœç°åœ¨éƒ½ä¸æƒ³æ£€æŸ¥å†™å¾—å¯¹ä¸å¯¹â€¦â€¦",
        "email": "nightghostjiyou@gmail.com",
        "name": "åµ‡å°”",
        "post": "/blog/post/76",
        "reply": "-KhWiOqG5eDgoQxJ4Xm7",
        "timestamp": 1492001264122
      },
      "-KvSXeydvo7_H-xiAVJR": {
        "comment": "å“‡ï¼è‰è‰å§æ€€å­•å•¦ï¼æ­å–œæ­å–œ~",
        "email": "ip.192.168.1.1@qq.com",
        "name": "oott123",
        "post": "/blog/post/80",
        "timestamp": 1506955407759,
        "url": "https://best33.com"
      },
      "-KvzGN7bdj69NhaP0N6H": {
        "comment": "å·å·åœ¨å®¶é‡Œå­µè›‹å‘¢â€¦â€¦",
        "email": "nightghostjiyou@gmail.com",
        "name": "åµ‡å°”",
        "post": "/blog/post/80",
        "reply": "-KvSXeydvo7_H-xiAVJR",
        "timestamp": 1507521299419,
        "url": "http://www.jithee.name"
      },
      "6347170250093495042": {
        "comment": "æœç„¶è®°å½•ä¸€ä¸‹çœ‹ç€å¾ˆæœ‰æ„æ€å‘¢ï¼ï¼",
        "email": "unadust@yeah.net",
        "name": "å¤œç©º",
        "post": "/blog/post/32",
        "timestamp": 1448375966000
      },
      "6347170250248684289": {
        "comment": "æˆ‘å±…ç„¶æ²¡æƒ³åˆ°ç”¨evalã€‚ã€‚ã€‚è¿™ä¸ªæ˜¯å¥½ä¸œè¥¿ã€‚ã€‚\né€’å½’æ€è·¯ä¹Ÿä¸é”™ã€‚ã€‚ã€‚ã€‚ä»£ç æ¯”æˆ‘ç®€æ´å¤šäº†\næˆ‘ç¬¬ä¸€æƒ³æ³•è¿˜æ˜¯æ’åˆ—ç»„åˆã€‚ã€‚",
        "email": "nightghostjiyou@gmail.com",
        "name": "åµ‡å°”",
        "post": "/blog/post/26",
        "reply": "6347170251406312194",
        "timestamp": 1442981618000
      },
      "6347170250911384321": {
        "comment": "ä¸‘å¾—æ— ä»¥å¤åŠ çš„é‚®ä»¶â€¦â€¦",
        "email": "nightghostjiyou@gmail.com",
        "name": "åµ‡å°”",
        "post": "/blog/post/18",
        "timestamp": 1425795044000
      },
      "6347170251045602049": {
        "comment": "å†æ¥ä¸€å°",
        "email": "nightghostjiyou@gmail.com",
        "name": "åµ‡å°”",
        "post": "/blog/post/18",
        "timestamp": 1425794883000
      },
      "6347170251184014081": {
        "comment": "éªšæ‰°é‚®ä»¶",
        "email": "nightghostjiyou@gmail.com",
        "name": "åµ‡å°”",
        "post": "/blog/post/18",
        "timestamp": 1425794679000
      },
      "6347170251406312194": {
        "comment": "result = []\n\ndef f(n, eq):\n    if n == 10:\n        if eval(eq) == 100:\n            result.append(eq + \"=100\")\n        return\n    print eq\n    f(n + 1, eq + '+' + str(n))  #1\n    f(n + 1, eq + '-' + str(n))  #2\n    f(n + 1, eq + str(n))   #3\n\nf(2, '1')\n\nfor m in result:\n    print m",
        "email": "cdx_net@com",
        "name": "cdx",
        "post": "/blog/post/26",
        "timestamp": 1442908496000
      },
      "6347170251548918529": {
        "comment": "å‰é¢æ³¨å†Œç”¨æˆ·å¸¦å›å¤ï¼Œæˆ‘è®©ä¸æ³¨å†Œçš„ä¹Ÿèƒ½å›å¤äº†ï¼Œå‰å‡ å¤©åŸŸååˆšä¸‹æ¥ï¼Œæˆ‘æ˜å¤©å»æ•´æ•´sendcloudï¼Œæ–°æµªè‡ªå¸¦çš„ä¸è®©æ”¹æ ‡é¢˜å•¥çš„ä¸çˆ½",
        "email": "nightghostjiyou@gmail.com",
        "name": "åµ‡å°”",
        "post": "/blog/post/18",
        "timestamp": 1425656682000
      },
      "6347170251691524865": {
        "comment": "å’¦ï¼åˆšåˆšè¿˜æ²¡æœ‰å›å¤çš„ï¼",
        "email": "ip.192.168.1.1@qq.com",
        "name": "oott123",
        "post": "/blog/post/18",
        "timestamp": 1425656589000
      },
      "6347170251813159682": {
        "comment": "Mailgun æˆ–è€… SendCloud éƒ½æŒºå¥½çš„ï¼Œä¸è¿‡ä¸€å¤©ä¸€ç™¾å°è¿˜ä¸å¤Ÿä¹ˆï¼Œä½ å‰å°åˆæ²¡å›å¤åŠŸèƒ½â€¦â€¦",
        "email": "ip.192.168.1.1@qq.com",
        "name": "oott123",
        "post": "/blog/post/18",
        "timestamp": 1425656561000
      },
      "6347170251985126145": {
        "comment": "æˆ‘å»ï¼Œæ–°æµªäº‘ä¸€å¤©åªè®©100å°é‚®ä»¶ï¼Œå‘ä¸äº†å¤šå°‘å•Šã€‚ã€‚ã€‚æˆ‘åœ¨æ‰¾é‚®ä»¶ç¬¬ä¸‰æ–¹apiä¸­ã€‚ã€‚æ–‡æ³‰äº¿å¾®ç±³é»‘æ¯”æ­£é»‘å¥½å¤šäº†ï¼Œè‡³å°‘iå’Œlè®¤å¾—å‡ºåŒºåˆ«",
        "email": "nightghostjiyou@gmail.com",
        "name": "åµ‡å°”",
        "post": "/blog/post/18",
        "timestamp": 1425656079000
      },
      "6347170252115149570": {
        "comment": "session ä¸å¹¸ç¦ å›å¤è¯„è®ºæ²¡æœ‰é‚®ä»¶é€šçŸ¥ä¸å¹¸ç¦ éªŒè¯ç æœ‰ o 0 l 1 I ä¸å¹¸ç¦",
        "email": "ip.192.168.1.1@qq.com",
        "name": "oott123",
        "post": "/blog/post/18",
        "timestamp": 1425655911000
      },
      "6347170252253561602": {
        "comment": "åå°è¿˜æ²¡å†™å¥½å‘¢ï¼Œæˆ‘åˆšåˆšæŠŠå‰å°çš„formæ”¹äº†è€Œå·²ï¼Œåå°åœ¨éªŒè¯ç å›¾ç‰‡ä¸Šåˆ’çº¿ä¸­â€¦â€¦",
        "email": "nightghostjiyou@gmail.com",
        "name": "åµ‡å°”",
        "post": "/blog/post/18",
        "timestamp": 1425628055000
      },
      "6347170252375196417": {
        "comment": "å§æ§½éªŒè¯ç éšä¾¿å†™å°±è¿‡äº†å•Šè¿™ä¹Ÿå¤ªéšä¾¿äº†å§ï¼",
        "email": "ip.192.168.1.1@qq.com",
        "name": "ä¸‰ä¸‰",
        "post": "/blog/post/18",
        "timestamp": 1425624770000
      },
      "6347170252505219842": {
        "comment": "å°±æ˜¯ç™¾åº¦ç«™é•¿å·¥å…·å¹²çš„ï¼Œéƒ½æ˜¯ä¸€äº›å¸¸ç”¨çš„ payload è€Œå·²â€¦â€¦",
        "email": "ip.192.168.1.1@qq.com",
        "name": "ä¸‰ä¸‰",
        "post": "/blog/post/18",
        "timestamp": 1425624753000
      }
    },
    "posts": {
      "blog": {
        "post": {
          "18": {
            "count": 11
          },
          "26": {
            "count": 2
          },
          "32": {
            "count": 1
          },
          "75": {
            "count": 9
          },
          "76": {
            "count": 2
          },
          "80": {
            "count": 2
          }
        }
      }
    }
  },
  GetCommentsCount: function(postId) {
    return OldComments.GetComments(postId).length;
  },
  GetComments: function(postId) {
    var result = [];
    for (commentID in OldComments.data.comments) {
      var comment = OldComments.data.comments[commentID];
      if (comment.post == postId) {
        comment["id"] = commentID;
        result.push(comment);
      }
    }
    return result;
  },
  getGravatar: function(email, size) {
    return "https://www.gravatar.com/avatar/" + OldComments.MD5(email) + "?s=" + size;
  },
  MD5: function(s) {
    function L(k, d) {
      return (k << d) | (k >>> (32 - d))
    }

    function K(G, k) {
      var I, d, F, H, x;
      F = (G & 2147483648);
      H = (k & 2147483648);
      I = (G & 1073741824);
      d = (k & 1073741824);
      x = (G & 1073741823) + (k & 1073741823);
      if (I & d) {
        return (x ^ 2147483648 ^ F ^ H)
      }
      if (I | d) {
        if (x & 1073741824) {
          return (x ^ 3221225472 ^ F ^ H)
        } else {
          return (x ^ 1073741824 ^ F ^ H)
        }
      } else {
        return (x ^ F ^ H)
      }
    }

    function r(d, F, k) {
      return (d & F) | ((~d) & k)
    }

    function q(d, F, k) {
      return (d & k) | (F & (~k))
    }

    function p(d, F, k) {
      return (d ^ F ^ k)
    }

    function n(d, F, k) {
      return (F ^ (d | (~k)))
    }

    function u(G, F, aa, Z, k, H, I) {
      G = K(G, K(K(r(F, aa, Z), k), I));
      return K(L(G, H), F)
    }

    function f(G, F, aa, Z, k, H, I) {
      G = K(G, K(K(q(F, aa, Z), k), I));
      return K(L(G, H), F)
    }

    function D(G, F, aa, Z, k, H, I) {
      G = K(G, K(K(p(F, aa, Z), k), I));
      return K(L(G, H), F)
    }

    function t(G, F, aa, Z, k, H, I) {
      G = K(G, K(K(n(F, aa, Z), k), I));
      return K(L(G, H), F)
    }

    function e(G) {
      var Z;
      var F = G.length;
      var x = F + 8;
      var k = (x - (x % 64)) / 64;
      var I = (k + 1) * 16;
      var aa = Array(I - 1);
      var d = 0;
      var H = 0;
      while (H < F) {
        Z = (H - (H % 4)) / 4;
        d = (H % 4) * 8;
        aa[Z] = (aa[Z] | (G.charCodeAt(H) << d));
        H++
      }
      Z = (H - (H % 4)) / 4;
      d = (H % 4) * 8;
      aa[Z] = aa[Z] | (128 << d);
      aa[I - 2] = F << 3;
      aa[I - 1] = F >>> 29;
      return aa
    }

    function B(x) {
      var k = "",
        F = "",
        G, d;
      for (d = 0; d <= 3; d++) {
        G = (x >>> (d * 8)) & 255;
        F = "0" + G.toString(16);
        k = k + F.substr(F.length - 2, 2)
      }
      return k
    }

    function J(k) {
      k = k.replace(/rn/g, "n");
      var d = "";
      for (var F = 0; F < k.length; F++) {
        var x = k.charCodeAt(F);
        if (x < 128) {
          d += String.fromCharCode(x)
        } else {
          if ((x > 127) && (x < 2048)) {
            d += String.fromCharCode((x >> 6) | 192);
            d += String.fromCharCode((x & 63) | 128)
          } else {
            d += String.fromCharCode((x >> 12) | 224);
            d += String.fromCharCode(((x >> 6) & 63) | 128);
            d += String.fromCharCode((x & 63) | 128)
          }
        }
      }
      return d
    }
    var C = Array();
    var P, h, E, v, g, Y, X, W, V;
    var S = 7,
      Q = 12,
      N = 17,
      M = 22;
    var A = 5,
      z = 9,
      y = 14,
      w = 20;
    var o = 4,
      m = 11,
      l = 16,
      j = 23;
    var U = 6,
      T = 10,
      R = 15,
      O = 21;
    s = J(s);
    C = e(s);
    Y = 1732584193;
    X = 4023233417;
    W = 2562383102;
    V = 271733878;
    for (P = 0; P < C.length; P += 16) {
      h = Y;
      E = X;
      v = W;
      g = V;
      Y = u(Y, X, W, V, C[P + 0], S, 3614090360);
      V = u(V, Y, X, W, C[P + 1], Q, 3905402710);
      W = u(W, V, Y, X, C[P + 2], N, 606105819);
      X = u(X, W, V, Y, C[P + 3], M, 3250441966);
      Y = u(Y, X, W, V, C[P + 4], S, 4118548399);
      V = u(V, Y, X, W, C[P + 5], Q, 1200080426);
      W = u(W, V, Y, X, C[P + 6], N, 2821735955);
      X = u(X, W, V, Y, C[P + 7], M, 4249261313);
      Y = u(Y, X, W, V, C[P + 8], S, 1770035416);
      V = u(V, Y, X, W, C[P + 9], Q, 2336552879);
      W = u(W, V, Y, X, C[P + 10], N, 4294925233);
      X = u(X, W, V, Y, C[P + 11], M, 2304563134);
      Y = u(Y, X, W, V, C[P + 12], S, 1804603682);
      V = u(V, Y, X, W, C[P + 13], Q, 4254626195);
      W = u(W, V, Y, X, C[P + 14], N, 2792965006);
      X = u(X, W, V, Y, C[P + 15], M, 1236535329);
      Y = f(Y, X, W, V, C[P + 1], A, 4129170786);
      V = f(V, Y, X, W, C[P + 6], z, 3225465664);
      W = f(W, V, Y, X, C[P + 11], y, 643717713);
      X = f(X, W, V, Y, C[P + 0], w, 3921069994);
      Y = f(Y, X, W, V, C[P + 5], A, 3593408605);
      V = f(V, Y, X, W, C[P + 10], z, 38016083);
      W = f(W, V, Y, X, C[P + 15], y, 3634488961);
      X = f(X, W, V, Y, C[P + 4], w, 3889429448);
      Y = f(Y, X, W, V, C[P + 9], A, 568446438);
      V = f(V, Y, X, W, C[P + 14], z, 3275163606);
      W = f(W, V, Y, X, C[P + 3], y, 4107603335);
      X = f(X, W, V, Y, C[P + 8], w, 1163531501);
      Y = f(Y, X, W, V, C[P + 13], A, 2850285829);
      V = f(V, Y, X, W, C[P + 2], z, 4243563512);
      W = f(W, V, Y, X, C[P + 7], y, 1735328473);
      X = f(X, W, V, Y, C[P + 12], w, 2368359562);
      Y = D(Y, X, W, V, C[P + 5], o, 4294588738);
      V = D(V, Y, X, W, C[P + 8], m, 2272392833);
      W = D(W, V, Y, X, C[P + 11], l, 1839030562);
      X = D(X, W, V, Y, C[P + 14], j, 4259657740);
      Y = D(Y, X, W, V, C[P + 1], o, 2763975236);
      V = D(V, Y, X, W, C[P + 4], m, 1272893353);
      W = D(W, V, Y, X, C[P + 7], l, 4139469664);
      X = D(X, W, V, Y, C[P + 10], j, 3200236656);
      Y = D(Y, X, W, V, C[P + 13], o, 681279174);
      V = D(V, Y, X, W, C[P + 0], m, 3936430074);
      W = D(W, V, Y, X, C[P + 3], l, 3572445317);
      X = D(X, W, V, Y, C[P + 6], j, 76029189);
      Y = D(Y, X, W, V, C[P + 9], o, 3654602809);
      V = D(V, Y, X, W, C[P + 12], m, 3873151461);
      W = D(W, V, Y, X, C[P + 15], l, 530742520);
      X = D(X, W, V, Y, C[P + 2], j, 3299628645);
      Y = t(Y, X, W, V, C[P + 0], U, 4096336452);
      V = t(V, Y, X, W, C[P + 7], T, 1126891415);
      W = t(W, V, Y, X, C[P + 14], R, 2878612391);
      X = t(X, W, V, Y, C[P + 5], O, 4237533241);
      Y = t(Y, X, W, V, C[P + 12], U, 1700485571);
      V = t(V, Y, X, W, C[P + 3], T, 2399980690);
      W = t(W, V, Y, X, C[P + 10], R, 4293915773);
      X = t(X, W, V, Y, C[P + 1], O, 2240044497);
      Y = t(Y, X, W, V, C[P + 8], U, 1873313359);
      V = t(V, Y, X, W, C[P + 15], T, 4264355552);
      W = t(W, V, Y, X, C[P + 6], R, 2734768916);
      X = t(X, W, V, Y, C[P + 13], O, 1309151649);
      Y = t(Y, X, W, V, C[P + 4], U, 4149444226);
      V = t(V, Y, X, W, C[P + 11], T, 3174756917);
      W = t(W, V, Y, X, C[P + 2], R, 718787259);
      X = t(X, W, V, Y, C[P + 9], O, 3951481745);
      Y = K(Y, h);
      X = K(X, E);
      W = K(W, v);
      V = K(V, g)
    }
    var i = B(Y) + B(X) + B(W) + B(V);
    return i.toLowerCase()
  },
  showOldComments: function(postId) {
    var comments = OldComments.GetComments(postId);
    $('#old_comments_head').remove();
    $('#old_comments_line').remove();
    $("[comments-count]").text(comments.length);
    comments = comments.sort(function(a, b) {
      return a.timestamp - b.timestamp;
    });
    if (comments.length > 0) {
      var old_head = $("<div></div>")
        .attr('id', "old_comments_head")
        .addClass("panel-heading")
        .attr('role', "tab")
        .append($("<a></a>")
          .attr('role', "button")
          .attr('data-toggle', "collapse")
          .attr('data-parent', "#comments")
          .attr('href', "#old_comments")
          .attr('aria-expanded', "true")
          .attr('aria-controls', "old_comments")
          .attr('style', "border-top: '1px solid';border-top-left-radius: 0;border-top-right-radius: 0")
          .append($("<strong></strong>")
            .text("æ—§è¯„è®º")
          )
        );
      var old_comments_line = $("<div></div>")
        .attr('id', "old_comments")
        .addClass("list-group")
        .addClass('panel-collapse')
        .addClass('collapse')
        .attr('role', "tabpanel")
        .attr('aria-labelledby', "old_comments_head");
      var old_comments_count = $("<div></div>")
        .attr('id', "old_comments_count")
        .addClass("list-group-item")
        .css({border-bottom: "0px"})
        .append($("<strong>&nbsp</strong>"));      
      $("#comments").append(old_head);
      //old_head.insertBefore($("#git_comments"));
      $("#comments").append(old_comments_line);
      //old_comments_line.insertBefore($("#git_comments"));
      $("#comments").append(old_comments_count);
    }
    for (var i = comments.length - 1;i >=0;i--){
      OldComments.addOldComment(comments[i]);
    }
  },
  addOldComment: function(comment) {
    var commentId = comment.id;
    var userName = comment.name;
    var userAvatar = OldComments.getGravatar(comment.email, 20);
    var userLink = comment.url;
    var date = new Date(comment.timestamp);

    var comment_detail = $("<div></div>");
    comment_detail.append(
      $("<div></div>").attr('id', 'comment_text_' + commentId).addClass('page_blog_comment_message')
    );
    var name_div = $("<div></div>");
    name_div.append("<img class='img-circle' style='width: 20px;height: 20px;' alt='" + userName + "' src='" + userAvatar + "' />").append(" ");
    name_div.append($("<span></span>").addClass("page_blog_comment_name").text(userName)).append(" ");
    name_div.append(
      $("<span></span>")
      .addClass("page_datetime")
      .text(timeSince(date))
      .attr("title",formatDate(date))
     );
    if (userLink) {
      name_div.append(" ").append(
        $("<a></a>").attr("href", userLink).attr("target", "_blank").append(
          $("<button></button>").addClass("btn btn-link").append(
            $("<span></span>").addClass("glyphicon glyphicon-home")
          )
        )
      );
    }
    var d_comments = $("<div></div>").addClass("list-group-item").attr('id', "old_comments_" + commentId).append(name_div).append(comment_detail);
    $("#old_comments").append(d_comments);
    $('#comment_text_' + commentId).append($("<p></p>").text(comment.comment));
  },
}
