---
layout: default
title: "相册"
---
<div class="row">
  {% assign image_files = site.static_files | where: "photo", true | sort: 'path' %}
  {% for myimage in image_files %}
  {% assign words = myimage.path | split: '/' %}
  {% assign index = words[2] %}
  <div class="col-sm-6 col-md-4">
    <div class="thumbnail">
      <img src="{{ myimage.path }}"> {{ index }}
    </div>
  </div>
  {% endfor %}
</div>
<script type="text/javascript">
    Array.prototype.removeAll = function() {
        var what, a = arguments, L = a.length, ax;
        while (L && this.length) {
            what = a[--L];
            while ((ax = this.indexOf(what)) !== -1) {
                this.splice(ax, 1);
            }
        }
        return this;
    }

    var imageFiles = [{% assign image_files = site.static_files | where: "photo", true %}{% for myimage in image_files %}{
        "path":"{{ myimage.path }}",
        "modified_time":"{{ myimage.modified_time }}"
    },{% endfor %}]

    var folders = {};

    for (var i = 0; i < imageFiles.length; i++) {
        var image = imageFiles[i];
        var pathArray = image.path.split("/").removeAll("");
        var folder = pathArray[1];
        image["folder"] = folder;
        if (folders[folder]) {
            folders[folder].push(image);
        } else {
            folders[folder] = [image];
        }
    }

</script>
